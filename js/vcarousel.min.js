(function(l){l.fn.VCarousel=function(a){a=l.extend({visible:3,ID:1,easing:null,step:1,play:null,playBack:!1,hoverStop:!0,speed:500,prevId:"",nextId:"",prevText:"Prev",nextText:"Next",vertical:!1},a||{});return this.each(function(){function p(){i=1;0==d?b.animate(a.vertical?{top:"-="+h+"px"}:{left:"-="+h+"px"},a.speed,a.easing,function(){m()}):(e=a.vertical?0<d+e?-d:g*a.step:0<d+e?-d:c*a.step,b.animate(a.vertical?{top:"+="+e+"px"}:{left:"+="+e+"px"},a.speed,a.easing,function(){m()}))}function q(){i=
1;d==-h?b.animate(a.vertical?{top:0}:{left:0},a.speed,a.easing,function(){m()}):(e=a.vertical?d-e<-h?h+d:g*a.step:d-e<-h?h+d:c*a.step,b.animate(a.vertical?{top:"-="+e+"px"}:{left:"-="+e+"px"},a.speed,a.easing,function(){m()}))}function m(){e=a.vertical?g*a.step:c*a.step;d=a.vertical?Math.round(b.position().top):Math.round(b.position().left);i=0}var b=l(this),j,k,f=b.children().length;a.vertical?b.addClass("vc-list_vertical"):b.addClass("vc-list_horizontal");if(0>=a.visible||"string"===typeof a.visible)a.visible=
1;a.visible>f&&(a.visible=f);0<a.play&&70>a.play&&(a.play=70);b.addClass("vc-list").attr("id","vc"+a.ID).find("img").addClass("vc-list-item-imgWrap-image").wrap("<div class='vc-list-item-imgWrap'></div>");var c=b.children().outerWidth(!0),g=b.children().outerHeight(!0);(function(){for(var d=[],e=[],c=f;c--;){d[c]=b.children().eq(c).outerHeight(true);e[c]=b.children().eq(c).height();b.children().eq(c).attr("id","vc"+a.ID+"Element"+(c+1))}b.children().css("height",Math.max.apply(Math,e)+"px").addClass("vc-list-item");
g=Math.max.apply(Math,d)})();var h=a.vertical?g*f-g*a.visible:c*f-c*a.visible;b.css("width",a.vertical?c+"px":c*f+"px").wrap("<div class='vc'></div>");b.parent().css({"float":a.vertical?"none":"left",width:a.vertical?c+"px":f<a.visible?c*f:c*a.visible+"px",height:a.vertical?f<a.visible?g*f:g*a.visible+"px":g+"px"});""!=a.prevId&&"string"===typeof a.prevId?j=l(a.prevId):(b.parent().before("<button class='vcButton vcButton_prev'></button>"),j=b.parent().prev(),j.text(a.prevText));""!=a.nextId&&"string"===
typeof a.nextId?k=l(a.nextId):(b.parent().after("<button class='vcButton vcButton_next'></button>"),k=b.parent().next(),k.text(a.nextText));var d=a.vertical?b.position().top:b.position().left,e=a.vertical?g*a.step:c*a.step,i=0;if(0<a.play&&f>a.visible&&0<a.step&&"number"===typeof a.play){var n;a.hoverStop&&(k.hover(function(){clearInterval(n)},function(){o()}),j.hover(function(){clearInterval(n)},function(){o()}),b.hover(function(){clearInterval(n)},function(){o()}));var o=function(){n=setInterval(function(){i===
0&&(a.playBack?p():q())},a.play+a.speed)};o()}j.click(function(){i===0&&a.step>0&&p()});k.click(function(){i===0&&a.step>0&&q()});f<=a.visible&&(k.hide(),j.hide())})}})(jQuery);